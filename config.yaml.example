# Cisco Configuration Backup via SNMPv3 + SCP
# ================================================
# IMPORTANT: Protect this file with: chmod 600 config.yaml
# This file contains plaintext credentials (SNMPv3 passwords, SCP password)

scp_server:
  # SCP server can be an IP address or resolvable hostname
  ip_address: 192.168.1.10  # or: scp.backup.local
  username: cisco_backup
  password: SecureScpPass123!
  port: 22
  remote_path: /var/backups/cisco
  
  # Optional: Custom known_hosts file for SSH host key verification
  # If omitted, system and user known_hosts (~/.ssh/known_hosts) are used
  # known_hosts_file: /etc/cisco_backup/known_hosts

backup:
  # Local directory for downloaded backups (organized by device hostname)
  backup_dir: /var/backups/cisco
  
  # Maximum concurrent device backups (tune based on CPU/network capacity)
  max_workers: 5
  
  # Retention period in days (older backups are automatically deleted)
  retention_days: 30
  
  # Log file location
  log_file: /var/log/cisco_backup.log
  
  # Log level: DEBUG, INFO, WARNING, ERROR
  log_level: INFO
  
  # SNMP polling interval in seconds (time between copy status checks)
  poll_interval: 2
  
  # Maximum SNMP poll attempts before timeout (total timeout = poll_interval × max_poll_attempts)
  max_poll_attempts: 60  # 2s × 60 = 120s timeout

snmpv3_defaults:
  # Default SNMPv3 credentials applied to all devices (can be overridden per-device)
  username: backupuser
  
  # Authentication protocol: MD5, SHA, SHA224, SHA256, SHA384, SHA512
  # Recommended: SHA256 or SHA512
  auth_protocol: SHA256
  auth_password: AuthPass123!Secure
  
  # Privacy (encryption) protocol: DES, 3DES, AES128, AES192, AES256
  # Recommended: AES256
  priv_protocol: AES256
  priv_password: PrivPass123!Secure
  
  # Security level: noAuthNoPriv, authNoPriv, authPriv
  # Recommended: authPriv (authentication + encryption)
  security_level: authPriv

devices:
  # List of Cisco devices to backup
  
  - hostname: ROUTER-01
    ip_address: 10.0.0.1
    # Optional per-device settings:
    # snmp_port: 161
    # timeout: 30
    # retries: 3
  
  - hostname: SWITCH-01
    ip_address: 10.0.0.10
  
  # Example: Device with custom SNMPv3 credentials
  - hostname: CORE-SWITCH
    ip_address: 10.0.0.20
    snmpv3:
      username: different_user
      auth_password: DifferentAuthPass!
      priv_password: DifferentPrivPass!
      # You can also override auth_protocol, priv_protocol, security_level
